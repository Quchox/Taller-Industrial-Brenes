@using Taller_Industrial_Brenes_Web.Models
@model UsuarioModel

@{
    ViewData["Title"] = "Mi Perfil";
    Layout = "_Layout";
}

<div class="row px-5">
    <div class="col-12 px-0">
        <div class="row mx-1 mb-4">
            <div class="display-3 px-0 col-12">Mi Perfil</div>
            <div class="text-muted px-0">Consulta tu información y actualiza tu correo electrónico.</div>
        </div>

        <div class="mt-4 p-5 rounded shadow-lg" style="background-color: #f9f9f9; border-left: 5px solid #44572F;">
            <form asp-action="ActualizarPerfil" asp-controller="Autenticacion" method="post">
                <input type="hidden" asp-for="UsuarioID" />

                <h5 class="text mt-4">Información Personal</h5>
                <hr>

                <div class="row g-3 mt-2">
                    <div class="col-md-6">
                        <div class="form-floating">
                            <label>Nombre</label>
                            <input type="text" class="form-control input-lg" asp-for="Nombre" disabled>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-floating">
                            <label>Identificación</label>
                            <input type="text" class="form-control input-lg" value="@Model.Identificacion" disabled>
                        </div>
                    </div>
                </div>


                <div class="row g-3 mt-2">
                    <div class="col-md-6">
                        <div class="form-floating">
                            <label>Rol</label>
                            <input type="text" class="form-control input-lg"
                                   value="@(Model.RolID == 1 ? "Administrador" : Model.RolID == 2 ? "Usuario" : Model.RolID == 3 ? "Empleado" : "Desconocido")"
                                   disabled>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-floating">
                            <label>Estado</label>
                            <input type="text" class="form-control input-lg" value="@(Model.Estado ? "Activo" : "Inactivo")" disabled>
                        </div>
                    </div>
                </div>

                <h5 class="text mt-4">Actualizar Correo Electrónico</h5>
                <hr>

                <div class="row g-3 mt-2">
                    <div class="col-md-12">
                        <div class="form-floating">
                            <label>Correo Electrónico</label>
                            <input type="email" class="form-control input-lg" asp-for="Correo" required>
                        </div>
                    </div>



                    <div class="row g-2 mt-4">
                        <div class="col-md">
                            <button type="submit" class="btn w-100" style="background-color: #44572F; color: white;">
                                <i class="fa-solid fa-check"></i> Guardar Cambios
                            </button>
                        </div>
                    </div>

                    @if (TempData["Msj"] != null)
                    {
                        <div class="alert alert-success mt-3 text-center">@TempData["Msj"]</div>
                    }
                    @if (ViewBag.Msj != null)
                    {
                        <div class="alert alert-danger mt-3 text-center">@ViewBag.Msj</div>
                    }
            </form>
        </div>
    </div>
</div>